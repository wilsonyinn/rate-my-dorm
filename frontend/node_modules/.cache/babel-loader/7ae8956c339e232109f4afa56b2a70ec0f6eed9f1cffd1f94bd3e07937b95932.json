{"ast":null,"code":"import { moveHighlight, listReducer, ListActionTypes, handleItemSelection } from '../useList';\nimport { SelectActionTypes } from './useSelect.types';\nexport function selectReducer(state, action) {\n  const {\n    open\n  } = state;\n  const {\n    context: {\n      selectionMode\n    }\n  } = action;\n  if (action.type === SelectActionTypes.buttonClick) {\n    var _state$selectedValues;\n    const itemToHighlight = (_state$selectedValues = state.selectedValues[0]) !== null && _state$selectedValues !== void 0 ? _state$selectedValues : moveHighlight(null, 'start', action.context);\n    return {\n      ...state,\n      open: !open,\n      highlightedValue: !open ? itemToHighlight : null\n    };\n  }\n  if (action.type === SelectActionTypes.browserAutoFill) {\n    return handleItemSelection(action.item, state, action.context);\n  }\n  const newState = listReducer(state, action);\n  switch (action.type) {\n    case ListActionTypes.keyDown:\n      if (state.open) {\n        if (action.event.key === 'Escape') {\n          return {\n            ...newState,\n            open: false\n          };\n        }\n      } else {\n        if (action.event.key === 'ArrowDown') {\n          var _state$selectedValues2;\n          return {\n            ...state,\n            open: true,\n            highlightedValue: (_state$selectedValues2 = state.selectedValues[0]) !== null && _state$selectedValues2 !== void 0 ? _state$selectedValues2 : moveHighlight(null, 'start', action.context)\n          };\n        }\n        if (action.event.key === 'ArrowUp') {\n          var _state$selectedValues3;\n          return {\n            ...state,\n            open: true,\n            highlightedValue: (_state$selectedValues3 = state.selectedValues[0]) !== null && _state$selectedValues3 !== void 0 ? _state$selectedValues3 : moveHighlight(null, 'end', action.context)\n          };\n        }\n      }\n      break;\n    case ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return {\n          ...newState,\n          open: false\n        };\n      }\n      break;\n    case ListActionTypes.blur:\n      return {\n        ...newState,\n        open: false\n      };\n    default:\n      return newState;\n  }\n  return newState;\n}","map":{"version":3,"names":["moveHighlight","listReducer","ListActionTypes","handleItemSelection","SelectActionTypes","selectReducer","state","action","open","context","selectionMode","type","buttonClick","_state$selectedValues","itemToHighlight","selectedValues","highlightedValue","browserAutoFill","item","newState","keyDown","event","key","_state$selectedValues2","_state$selectedValues3","itemClick","blur"],"sources":["/Users/wilson/Documents/rate-my-dorm/node_modules/@mui/base/useSelect/selectReducer.js"],"sourcesContent":["import { moveHighlight, listReducer, ListActionTypes, handleItemSelection } from '../useList';\nimport { SelectActionTypes } from './useSelect.types';\nexport function selectReducer(state, action) {\n  const {\n    open\n  } = state;\n  const {\n    context: {\n      selectionMode\n    }\n  } = action;\n  if (action.type === SelectActionTypes.buttonClick) {\n    const itemToHighlight = state.selectedValues[0] ?? moveHighlight(null, 'start', action.context);\n    return {\n      ...state,\n      open: !open,\n      highlightedValue: !open ? itemToHighlight : null\n    };\n  }\n  if (action.type === SelectActionTypes.browserAutoFill) {\n    return handleItemSelection(action.item, state, action.context);\n  }\n  const newState = listReducer(state, action);\n  switch (action.type) {\n    case ListActionTypes.keyDown:\n      if (state.open) {\n        if (action.event.key === 'Escape') {\n          return {\n            ...newState,\n            open: false\n          };\n        }\n      } else {\n        if (action.event.key === 'ArrowDown') {\n          return {\n            ...state,\n            open: true,\n            highlightedValue: state.selectedValues[0] ?? moveHighlight(null, 'start', action.context)\n          };\n        }\n        if (action.event.key === 'ArrowUp') {\n          return {\n            ...state,\n            open: true,\n            highlightedValue: state.selectedValues[0] ?? moveHighlight(null, 'end', action.context)\n          };\n        }\n      }\n      break;\n    case ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return {\n          ...newState,\n          open: false\n        };\n      }\n      break;\n    case ListActionTypes.blur:\n      return {\n        ...newState,\n        open: false\n      };\n    default:\n      return newState;\n  }\n  return newState;\n}"],"mappings":"AAAA,SAASA,aAAa,EAAEC,WAAW,EAAEC,eAAe,EAAEC,mBAAmB,QAAQ,YAAY;AAC7F,SAASC,iBAAiB,QAAQ,mBAAmB;AACrD,OAAO,SAASC,aAAaA,CAACC,KAAK,EAAEC,MAAM,EAAE;EAC3C,MAAM;IACJC;EACF,CAAC,GAAGF,KAAK;EACT,MAAM;IACJG,OAAO,EAAE;MACPC;IACF;EACF,CAAC,GAAGH,MAAM;EACV,IAAIA,MAAM,CAACI,IAAI,KAAKP,iBAAiB,CAACQ,WAAW,EAAE;IAAA,IAAAC,qBAAA;IACjD,MAAMC,eAAe,IAAAD,qBAAA,GAAGP,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,cAAAF,qBAAA,cAAAA,qBAAA,GAAIb,aAAa,CAAC,IAAI,EAAE,OAAO,EAAEO,MAAM,CAACE,OAAO,CAAC;IAC/F,OAAO;MACL,GAAGH,KAAK;MACRE,IAAI,EAAE,CAACA,IAAI;MACXQ,gBAAgB,EAAE,CAACR,IAAI,GAAGM,eAAe,GAAG;IAC9C,CAAC;EACH;EACA,IAAIP,MAAM,CAACI,IAAI,KAAKP,iBAAiB,CAACa,eAAe,EAAE;IACrD,OAAOd,mBAAmB,CAACI,MAAM,CAACW,IAAI,EAAEZ,KAAK,EAAEC,MAAM,CAACE,OAAO,CAAC;EAChE;EACA,MAAMU,QAAQ,GAAGlB,WAAW,CAACK,KAAK,EAAEC,MAAM,CAAC;EAC3C,QAAQA,MAAM,CAACI,IAAI;IACjB,KAAKT,eAAe,CAACkB,OAAO;MAC1B,IAAId,KAAK,CAACE,IAAI,EAAE;QACd,IAAID,MAAM,CAACc,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;UACjC,OAAO;YACL,GAAGH,QAAQ;YACXX,IAAI,EAAE;UACR,CAAC;QACH;MACF,CAAC,MAAM;QACL,IAAID,MAAM,CAACc,KAAK,CAACC,GAAG,KAAK,WAAW,EAAE;UAAA,IAAAC,sBAAA;UACpC,OAAO;YACL,GAAGjB,KAAK;YACRE,IAAI,EAAE,IAAI;YACVQ,gBAAgB,GAAAO,sBAAA,GAAEjB,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,cAAAQ,sBAAA,cAAAA,sBAAA,GAAIvB,aAAa,CAAC,IAAI,EAAE,OAAO,EAAEO,MAAM,CAACE,OAAO;UAC1F,CAAC;QACH;QACA,IAAIF,MAAM,CAACc,KAAK,CAACC,GAAG,KAAK,SAAS,EAAE;UAAA,IAAAE,sBAAA;UAClC,OAAO;YACL,GAAGlB,KAAK;YACRE,IAAI,EAAE,IAAI;YACVQ,gBAAgB,GAAAQ,sBAAA,GAAElB,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,cAAAS,sBAAA,cAAAA,sBAAA,GAAIxB,aAAa,CAAC,IAAI,EAAE,KAAK,EAAEO,MAAM,CAACE,OAAO;UACxF,CAAC;QACH;MACF;MACA;IACF,KAAKP,eAAe,CAACuB,SAAS;MAC5B,IAAIf,aAAa,KAAK,QAAQ,EAAE;QAC9B,OAAO;UACL,GAAGS,QAAQ;UACXX,IAAI,EAAE;QACR,CAAC;MACH;MACA;IACF,KAAKN,eAAe,CAACwB,IAAI;MACvB,OAAO;QACL,GAAGP,QAAQ;QACXX,IAAI,EAAE;MACR,CAAC;IACH;MACE,OAAOW,QAAQ;EACnB;EACA,OAAOA,QAAQ;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}