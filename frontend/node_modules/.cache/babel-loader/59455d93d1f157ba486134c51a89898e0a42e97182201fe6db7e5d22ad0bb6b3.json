{"ast":null,"code":"var _CloseIcon;\nimport * as React from 'react';\nimport { Alert, Badge, Button, IconButton, Snackbar, SnackbarContent } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { useNonNullableContext } from '@toolpad/utils/react';\nimport useSlotProps from '@mui/utils/useSlotProps';\nimport { NotificationsContext } from \"./NotificationsContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst closeText = 'Close';\nconst RootPropsContext = /*#__PURE__*/React.createContext(null);\nfunction Notification({\n  notificationKey,\n  open,\n  message,\n  options,\n  badge\n}) {\n  const {\n    close\n  } = useNonNullableContext(NotificationsContext);\n  const {\n    severity,\n    actionText,\n    onAction,\n    autoHideDuration\n  } = options;\n  const handleClose = React.useCallback((event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    close(notificationKey);\n  }, [notificationKey, close]);\n  const action = /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [onAction ? /*#__PURE__*/_jsx(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: onAction,\n      children: actionText ?? 'Action'\n    }) : null, /*#__PURE__*/_jsx(IconButton, {\n      size: \"small\",\n      \"aria-label\": closeText,\n      title: closeText,\n      color: \"inherit\",\n      onClick: handleClose,\n      children: _CloseIcon || (_CloseIcon = /*#__PURE__*/_jsx(CloseIcon, {\n        fontSize: \"small\"\n      }))\n    })]\n  });\n  const props = React.useContext(RootPropsContext);\n  const SnackbarComponent = props?.slots?.snackbar ?? Snackbar;\n  const snackbarSlotProps = useSlotProps({\n    elementType: SnackbarComponent,\n    ownerState: props,\n    externalSlotProps: props?.slotProps?.snackbar,\n    additionalProps: {\n      open,\n      autoHideDuration,\n      onClose: handleClose,\n      action\n    }\n  });\n  return /*#__PURE__*/_jsx(SnackbarComponent, {\n    ...snackbarSlotProps,\n    children: /*#__PURE__*/_jsx(Badge, {\n      badgeContent: badge,\n      color: \"primary\",\n      sx: {\n        width: '100%'\n      },\n      children: severity ? /*#__PURE__*/_jsx(Alert, {\n        severity: severity,\n        sx: {\n          width: '100%'\n        },\n        action: action,\n        children: message\n      }) : /*#__PURE__*/_jsx(SnackbarContent, {\n        message: message,\n        action: action\n      })\n    })\n  }, notificationKey);\n}\nfunction Notifications({\n  state\n}) {\n  const currentNotification = state.queue[0] ?? null;\n  return currentNotification ? /*#__PURE__*/_jsx(Notification, {\n    ...currentNotification,\n    badge: state.queue.length > 1 ? String(state.queue.length) : null\n  }) : null;\n}\nlet nextId = 1;\n\n/**\n * Provider for Notifications. The subtree of this component can use the `useNotifications` hook to\n * access the notifications API. The notifications are shown in the same order they are requested.\n *\n * Demos:\n *\n * - [Sign-in Page](https://mui.com/toolpad/core/react-sign-in-page/)\n * - [useNotifications](https://mui.com/toolpad/core/react-use-notifications/)\n *\n * API:\n *\n * - [NotificationsProvider API](https://mui.com/toolpad/core/api/notifications-provider)\n */\nfunction NotificationsProvider(props) {\n  const {\n    children\n  } = props;\n  const [state, setState] = React.useState({\n    queue: []\n  });\n  const show = React.useCallback((message, options = {}) => {\n    const notificationKey = options.key ?? `::toolpad-internal::notification::${nextId}`;\n    nextId += 1;\n    setState(prev => {\n      if (prev.queue.some(n => n.notificationKey === notificationKey)) {\n        // deduplicate by key\n        return prev;\n      }\n      return {\n        ...prev,\n        queue: [...prev.queue, {\n          message,\n          options,\n          notificationKey,\n          open: true\n        }]\n      };\n    });\n    return notificationKey;\n  }, []);\n  const close = React.useCallback(key => {\n    setState(prev => ({\n      ...prev,\n      queue: prev.queue.filter(n => n.notificationKey !== key)\n    }));\n  }, []);\n  const contextValue = React.useMemo(() => ({\n    show,\n    close\n  }), [show, close]);\n  return /*#__PURE__*/_jsx(RootPropsContext.Provider, {\n    value: props,\n    children: /*#__PURE__*/_jsxs(NotificationsContext.Provider, {\n      value: contextValue,\n      children: [children, /*#__PURE__*/_jsx(Notifications, {\n        state: state\n      })]\n    })\n  });\n}\nexport { NotificationsProvider };","map":{"version":3,"names":["_CloseIcon","React","Alert","Badge","Button","IconButton","Snackbar","SnackbarContent","CloseIcon","useNonNullableContext","useSlotProps","NotificationsContext","jsx","_jsx","jsxs","_jsxs","closeText","RootPropsContext","createContext","Notification","notificationKey","open","message","options","badge","close","severity","actionText","onAction","autoHideDuration","handleClose","useCallback","event","reason","action","Fragment","children","color","size","onClick","title","fontSize","props","useContext","SnackbarComponent","slots","snackbar","snackbarSlotProps","elementType","ownerState","externalSlotProps","slotProps","additionalProps","onClose","badgeContent","sx","width","Notifications","state","currentNotification","queue","length","String","nextId","NotificationsProvider","setState","useState","show","key","prev","some","n","filter","contextValue","useMemo","Provider","value"],"sources":["/Users/wilson/Documents/rate-my-dorm/node_modules/@toolpad/core/useNotifications/NotificationsProvider.js"],"sourcesContent":["var _CloseIcon;\nimport * as React from 'react';\nimport { Alert, Badge, Button, IconButton, Snackbar, SnackbarContent } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { useNonNullableContext } from '@toolpad/utils/react';\nimport useSlotProps from '@mui/utils/useSlotProps';\nimport { NotificationsContext } from \"./NotificationsContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst closeText = 'Close';\nconst RootPropsContext = /*#__PURE__*/React.createContext(null);\nfunction Notification({\n  notificationKey,\n  open,\n  message,\n  options,\n  badge\n}) {\n  const {\n    close\n  } = useNonNullableContext(NotificationsContext);\n  const {\n    severity,\n    actionText,\n    onAction,\n    autoHideDuration\n  } = options;\n  const handleClose = React.useCallback((event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    close(notificationKey);\n  }, [notificationKey, close]);\n  const action = /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [onAction ? /*#__PURE__*/_jsx(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: onAction,\n      children: actionText ?? 'Action'\n    }) : null, /*#__PURE__*/_jsx(IconButton, {\n      size: \"small\",\n      \"aria-label\": closeText,\n      title: closeText,\n      color: \"inherit\",\n      onClick: handleClose,\n      children: _CloseIcon || (_CloseIcon = /*#__PURE__*/_jsx(CloseIcon, {\n        fontSize: \"small\"\n      }))\n    })]\n  });\n  const props = React.useContext(RootPropsContext);\n  const SnackbarComponent = props?.slots?.snackbar ?? Snackbar;\n  const snackbarSlotProps = useSlotProps({\n    elementType: SnackbarComponent,\n    ownerState: props,\n    externalSlotProps: props?.slotProps?.snackbar,\n    additionalProps: {\n      open,\n      autoHideDuration,\n      onClose: handleClose,\n      action\n    }\n  });\n  return /*#__PURE__*/_jsx(SnackbarComponent, {\n    ...snackbarSlotProps,\n    children: /*#__PURE__*/_jsx(Badge, {\n      badgeContent: badge,\n      color: \"primary\",\n      sx: {\n        width: '100%'\n      },\n      children: severity ? /*#__PURE__*/_jsx(Alert, {\n        severity: severity,\n        sx: {\n          width: '100%'\n        },\n        action: action,\n        children: message\n      }) : /*#__PURE__*/_jsx(SnackbarContent, {\n        message: message,\n        action: action\n      })\n    })\n  }, notificationKey);\n}\nfunction Notifications({\n  state\n}) {\n  const currentNotification = state.queue[0] ?? null;\n  return currentNotification ? /*#__PURE__*/_jsx(Notification, {\n    ...currentNotification,\n    badge: state.queue.length > 1 ? String(state.queue.length) : null\n  }) : null;\n}\nlet nextId = 1;\n\n/**\n * Provider for Notifications. The subtree of this component can use the `useNotifications` hook to\n * access the notifications API. The notifications are shown in the same order they are requested.\n *\n * Demos:\n *\n * - [Sign-in Page](https://mui.com/toolpad/core/react-sign-in-page/)\n * - [useNotifications](https://mui.com/toolpad/core/react-use-notifications/)\n *\n * API:\n *\n * - [NotificationsProvider API](https://mui.com/toolpad/core/api/notifications-provider)\n */\nfunction NotificationsProvider(props) {\n  const {\n    children\n  } = props;\n  const [state, setState] = React.useState({\n    queue: []\n  });\n  const show = React.useCallback((message, options = {}) => {\n    const notificationKey = options.key ?? `::toolpad-internal::notification::${nextId}`;\n    nextId += 1;\n    setState(prev => {\n      if (prev.queue.some(n => n.notificationKey === notificationKey)) {\n        // deduplicate by key\n        return prev;\n      }\n      return {\n        ...prev,\n        queue: [...prev.queue, {\n          message,\n          options,\n          notificationKey,\n          open: true\n        }]\n      };\n    });\n    return notificationKey;\n  }, []);\n  const close = React.useCallback(key => {\n    setState(prev => ({\n      ...prev,\n      queue: prev.queue.filter(n => n.notificationKey !== key)\n    }));\n  }, []);\n  const contextValue = React.useMemo(() => ({\n    show,\n    close\n  }), [show, close]);\n  return /*#__PURE__*/_jsx(RootPropsContext.Provider, {\n    value: props,\n    children: /*#__PURE__*/_jsxs(NotificationsContext.Provider, {\n      value: contextValue,\n      children: [children, /*#__PURE__*/_jsx(Notifications, {\n        state: state\n      })]\n    })\n  });\n}\nexport { NotificationsProvider };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}