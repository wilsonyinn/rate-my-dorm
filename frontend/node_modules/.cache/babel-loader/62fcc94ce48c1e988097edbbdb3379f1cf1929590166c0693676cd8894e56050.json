{"ast":null,"code":"var _CssBaseline, _InitColorSchemeScrip, _CssBaseline2;\nimport * as React from 'react';\nimport { useMediaQuery } from '@mui/material';\nimport { ThemeProvider, useColorScheme } from '@mui/material/styles';\nimport InitColorSchemeScript from '@mui/material/InitColorSchemeScript';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport invariant from 'invariant';\nimport { useLocalStorageState } from \"../useLocalStorageState/index.js\";\nimport { PaletteModeContext } from \"../shared/context.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst COLOR_SCHEME_ATTRIBUTE = 'data-toolpad-color-scheme';\nconst COLOR_SCHEME_STORAGE_KEY = 'toolpad-color-scheme';\nconst MODE_STORAGE_KEY = 'toolpad-mode';\nfunction usePreferredMode(window) {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', window && {\n    matchMedia: window.matchMedia\n  });\n  return prefersDarkMode ? 'dark' : 'light';\n}\nfunction isCssVarsTheme(theme) {\n  return 'vars' in theme;\n}\n/**\n * Compatibility layer for classic v5 themes. It will handle state management for the theme switcher.\n * In the v6 theme, this state management is handled by `useColorScheme`. But this hook will crash if\n * not run under context with a css vars theme.\n */\nfunction LegacyThemeProvider(props) {\n  const {\n    children,\n    theme,\n    window: appWindow\n  } = props;\n  invariant(!isCssVarsTheme(theme), 'This provider only accepts legacy themes.');\n  const isDualTheme = 'light' in theme || 'dark' in theme;\n  const preferredMode = usePreferredMode(appWindow);\n  const [userMode, setUserMode] = useLocalStorageState(MODE_STORAGE_KEY, 'system');\n  const paletteMode = !userMode || userMode === 'system' ? preferredMode : userMode;\n  const dualAwareTheme = React.useMemo(() => isDualTheme ? theme[paletteMode === 'dark' ? 'dark' : 'light'] ?? theme[paletteMode === 'dark' ? 'light' : 'dark'] : theme, [isDualTheme, paletteMode, theme]);\n\n  // The v5 shim, based on local state\n  const paletteModeContextValue = React.useMemo(() => ({\n    paletteMode,\n    setPaletteMode: setUserMode,\n    isDualTheme\n  }), [isDualTheme, paletteMode, setUserMode]);\n  return /*#__PURE__*/_jsx(ThemeProvider, {\n    theme: dualAwareTheme,\n    documentNode: appWindow?.document,\n    colorSchemeNode: appWindow?.document?.body,\n    disableNestedContext: true,\n    colorSchemeStorageKey: COLOR_SCHEME_STORAGE_KEY,\n    modeStorageKey: MODE_STORAGE_KEY,\n    children: /*#__PURE__*/_jsxs(PaletteModeContext.Provider, {\n      value: paletteModeContextValue,\n      children: [_CssBaseline || (_CssBaseline = /*#__PURE__*/_jsx(CssBaseline, {\n        enableColorScheme: true\n      })), children]\n    })\n  });\n}\nfunction CssVarsPaletteModeProvider(props) {\n  const {\n    children,\n    window: appWindow\n  } = props;\n  const preferredMode = usePreferredMode(appWindow);\n  const {\n    mode,\n    setMode,\n    allColorSchemes\n  } = useColorScheme();\n\n  // The v6 API, based on `useColorScheme`\n  const paletteModeContextValue = React.useMemo(() => {\n    return {\n      paletteMode: !mode || mode === 'system' ? preferredMode : mode,\n      setPaletteMode: setMode,\n      isDualTheme: allColorSchemes.length > 1\n    };\n  }, [allColorSchemes, mode, preferredMode, setMode]);\n  return /*#__PURE__*/_jsx(PaletteModeContext.Provider, {\n    value: paletteModeContextValue,\n    children: children\n  });\n}\nfunction CssVarsThemeProvider(props) {\n  const {\n    children,\n    theme,\n    window: appWindow\n  } = props;\n  invariant(isCssVarsTheme(theme), 'This provider only accepts CSS vars themes.');\n  return /*#__PURE__*/_jsxs(ThemeProvider, {\n    theme: theme,\n    documentNode: appWindow?.document,\n    colorSchemeNode: appWindow?.document.documentElement,\n    disableNestedContext: true,\n    colorSchemeStorageKey: COLOR_SCHEME_STORAGE_KEY,\n    modeStorageKey: MODE_STORAGE_KEY,\n    children: [_InitColorSchemeScrip || (_InitColorSchemeScrip = /*#__PURE__*/_jsx(InitColorSchemeScript, {\n      attribute: COLOR_SCHEME_ATTRIBUTE,\n      colorSchemeStorageKey: COLOR_SCHEME_STORAGE_KEY,\n      modeStorageKey: MODE_STORAGE_KEY\n    })), /*#__PURE__*/_jsxs(CssVarsPaletteModeProvider, {\n      window: appWindow,\n      children: [_CssBaseline2 || (_CssBaseline2 = /*#__PURE__*/_jsx(CssBaseline, {\n        enableColorScheme: true\n      })), children]\n    })]\n  });\n}\n/**\n * @ignore - internal component.\n */\nfunction AppThemeProvider(props) {\n  const {\n    children,\n    theme,\n    ...rest\n  } = props;\n  const useCssVarsProvider = isCssVarsTheme(theme);\n  return useCssVarsProvider ? /*#__PURE__*/_jsx(CssVarsThemeProvider, {\n    theme: theme,\n    ...rest,\n    children: children\n  }) : /*#__PURE__*/_jsx(LegacyThemeProvider, {\n    theme: theme,\n    ...rest,\n    children: children\n  });\n}\nexport { AppThemeProvider };","map":{"version":3,"names":["_CssBaseline","_InitColorSchemeScrip","_CssBaseline2","React","useMediaQuery","ThemeProvider","useColorScheme","InitColorSchemeScript","CssBaseline","invariant","useLocalStorageState","PaletteModeContext","jsx","_jsx","jsxs","_jsxs","COLOR_SCHEME_ATTRIBUTE","COLOR_SCHEME_STORAGE_KEY","MODE_STORAGE_KEY","usePreferredMode","window","prefersDarkMode","matchMedia","isCssVarsTheme","theme","LegacyThemeProvider","props","children","appWindow","isDualTheme","preferredMode","userMode","setUserMode","paletteMode","dualAwareTheme","useMemo","paletteModeContextValue","setPaletteMode","documentNode","document","colorSchemeNode","body","disableNestedContext","colorSchemeStorageKey","modeStorageKey","Provider","value","enableColorScheme","CssVarsPaletteModeProvider","mode","setMode","allColorSchemes","length","CssVarsThemeProvider","documentElement","attribute","AppThemeProvider","rest","useCssVarsProvider"],"sources":["/Users/wilson/Documents/rate-my-dorm/node_modules/@toolpad/core/AppProvider/AppThemeProvider.js"],"sourcesContent":["var _CssBaseline, _InitColorSchemeScrip, _CssBaseline2;\nimport * as React from 'react';\nimport { useMediaQuery } from '@mui/material';\nimport { ThemeProvider, useColorScheme } from '@mui/material/styles';\nimport InitColorSchemeScript from '@mui/material/InitColorSchemeScript';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport invariant from 'invariant';\nimport { useLocalStorageState } from \"../useLocalStorageState/index.js\";\nimport { PaletteModeContext } from \"../shared/context.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst COLOR_SCHEME_ATTRIBUTE = 'data-toolpad-color-scheme';\nconst COLOR_SCHEME_STORAGE_KEY = 'toolpad-color-scheme';\nconst MODE_STORAGE_KEY = 'toolpad-mode';\nfunction usePreferredMode(window) {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', window && {\n    matchMedia: window.matchMedia\n  });\n  return prefersDarkMode ? 'dark' : 'light';\n}\nfunction isCssVarsTheme(theme) {\n  return 'vars' in theme;\n}\n/**\n * Compatibility layer for classic v5 themes. It will handle state management for the theme switcher.\n * In the v6 theme, this state management is handled by `useColorScheme`. But this hook will crash if\n * not run under context with a css vars theme.\n */\nfunction LegacyThemeProvider(props) {\n  const {\n    children,\n    theme,\n    window: appWindow\n  } = props;\n  invariant(!isCssVarsTheme(theme), 'This provider only accepts legacy themes.');\n  const isDualTheme = 'light' in theme || 'dark' in theme;\n  const preferredMode = usePreferredMode(appWindow);\n  const [userMode, setUserMode] = useLocalStorageState(MODE_STORAGE_KEY, 'system');\n  const paletteMode = !userMode || userMode === 'system' ? preferredMode : userMode;\n  const dualAwareTheme = React.useMemo(() => isDualTheme ? theme[paletteMode === 'dark' ? 'dark' : 'light'] ?? theme[paletteMode === 'dark' ? 'light' : 'dark'] : theme, [isDualTheme, paletteMode, theme]);\n\n  // The v5 shim, based on local state\n  const paletteModeContextValue = React.useMemo(() => ({\n    paletteMode,\n    setPaletteMode: setUserMode,\n    isDualTheme\n  }), [isDualTheme, paletteMode, setUserMode]);\n  return /*#__PURE__*/_jsx(ThemeProvider, {\n    theme: dualAwareTheme,\n    documentNode: appWindow?.document,\n    colorSchemeNode: appWindow?.document?.body,\n    disableNestedContext: true,\n    colorSchemeStorageKey: COLOR_SCHEME_STORAGE_KEY,\n    modeStorageKey: MODE_STORAGE_KEY,\n    children: /*#__PURE__*/_jsxs(PaletteModeContext.Provider, {\n      value: paletteModeContextValue,\n      children: [_CssBaseline || (_CssBaseline = /*#__PURE__*/_jsx(CssBaseline, {\n        enableColorScheme: true\n      })), children]\n    })\n  });\n}\nfunction CssVarsPaletteModeProvider(props) {\n  const {\n    children,\n    window: appWindow\n  } = props;\n  const preferredMode = usePreferredMode(appWindow);\n  const {\n    mode,\n    setMode,\n    allColorSchemes\n  } = useColorScheme();\n\n  // The v6 API, based on `useColorScheme`\n  const paletteModeContextValue = React.useMemo(() => {\n    return {\n      paletteMode: !mode || mode === 'system' ? preferredMode : mode,\n      setPaletteMode: setMode,\n      isDualTheme: allColorSchemes.length > 1\n    };\n  }, [allColorSchemes, mode, preferredMode, setMode]);\n  return /*#__PURE__*/_jsx(PaletteModeContext.Provider, {\n    value: paletteModeContextValue,\n    children: children\n  });\n}\nfunction CssVarsThemeProvider(props) {\n  const {\n    children,\n    theme,\n    window: appWindow\n  } = props;\n  invariant(isCssVarsTheme(theme), 'This provider only accepts CSS vars themes.');\n  return /*#__PURE__*/_jsxs(ThemeProvider, {\n    theme: theme,\n    documentNode: appWindow?.document,\n    colorSchemeNode: appWindow?.document.documentElement,\n    disableNestedContext: true,\n    colorSchemeStorageKey: COLOR_SCHEME_STORAGE_KEY,\n    modeStorageKey: MODE_STORAGE_KEY,\n    children: [_InitColorSchemeScrip || (_InitColorSchemeScrip = /*#__PURE__*/_jsx(InitColorSchemeScript, {\n      attribute: COLOR_SCHEME_ATTRIBUTE,\n      colorSchemeStorageKey: COLOR_SCHEME_STORAGE_KEY,\n      modeStorageKey: MODE_STORAGE_KEY\n    })), /*#__PURE__*/_jsxs(CssVarsPaletteModeProvider, {\n      window: appWindow,\n      children: [_CssBaseline2 || (_CssBaseline2 = /*#__PURE__*/_jsx(CssBaseline, {\n        enableColorScheme: true\n      })), children]\n    })]\n  });\n}\n/**\n * @ignore - internal component.\n */\nfunction AppThemeProvider(props) {\n  const {\n    children,\n    theme,\n    ...rest\n  } = props;\n  const useCssVarsProvider = isCssVarsTheme(theme);\n  return useCssVarsProvider ? /*#__PURE__*/_jsx(CssVarsThemeProvider, {\n    theme: theme,\n    ...rest,\n    children: children\n  }) : /*#__PURE__*/_jsx(LegacyThemeProvider, {\n    theme: theme,\n    ...rest,\n    children: children\n  });\n}\nexport { AppThemeProvider };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}