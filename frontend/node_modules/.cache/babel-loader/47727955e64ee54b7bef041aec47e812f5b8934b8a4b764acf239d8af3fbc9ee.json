{"ast":null,"code":"var _jsxFileName = \"/Users/wilson/Documents/rate-my-dorm/frontend/src/pages/WriteReview.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport { useRef } from \"react\";\nimport styles from \"../styles/write-review.module.css\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport Rating from \"@mui/material/Rating\";\nimport Box from \"@mui/material/Box\";\nimport StarIcon from \"@mui/icons-material/Star\";\nimport Button from \"@mui/material/Button\";\nimport Divider from \"@mui/material/Divider\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst labels = {\n  0.5: \"0.5\",\n  1: \"1\",\n  1.5: \"1.5\",\n  2: \"2\",\n  2.5: \"2.5\",\n  3: \"3\",\n  3.5: \"3.5\",\n  4: \"4\",\n  4.5: \"4.5\",\n  5: \"5\"\n};\nfunction getLabelText(value) {\n  return `${value} Star${value !== 1 ? \"s\" : \"\"}, ${labels[value]}`;\n}\nconst WriteReview = () => {\n  _s();\n  const [value, setValue] = useState(2);\n  const [hover, setHover] = useState(-1);\n  const [dormErrorMessage, setDormErrorMessage] = useState(null);\n  const [reviewErrorMessage, setReviewErrorMessage] = useState(null);\n  const [verified, setVerified] = useState(false);\n  const [verifiedError, setVerifiedError] = useState(false);\n  const [verifiedErrorMessage, setVerifiedErrorMessage] = useState(null);\n  const [verificationSent, setVerificationSent] = useState(false);\n  const [verificationMessage, setVerificationMessage] = useState(null);\n  const [verifiedMessage, setVerifiedMessage] = useState(null);\n  const [responseMessage, setResponseMessage] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const titleRef = useRef(null);\n  const reviewRef = useRef(null);\n  const dormRef = useRef(null);\n  const semesterRef = useRef(null);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  /*********************************\n   * VERIFY CODE API CALL\n   *********************************/\n  async function verifyCode() {\n    if (code === \"\") {\n      alert(\"Missing field\");\n      return;\n    }\n    const formData = {\n      email: email,\n      code: code\n    };\n    try {\n      const response = await fetch(\"http://localhost:4000/api/verify-code\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        setVerified(false);\n        setVerifiedError(true);\n        setVerifiedErrorMessage(\"Code incorrect.\");\n        return;\n      }\n      setVerified(true);\n      setVerifiedError(false);\n      setVerifiedMessage(\"Verified!\");\n    } catch (error) {\n      setResponseMessage(error.message);\n    }\n  }\n\n  /*********************************\n   * SEND VERIFICATION API CALL\n   *********************************/\n  async function handleSendVerification() {\n    if (email === \"\") {\n      alert(\"Email field missing\");\n      return;\n    }\n    const formData = {\n      email: email\n    };\n    try {\n      const response = await fetch(\"http://localhost:4000/api/send-verification\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        setResponseMessage(\"Failed to send verification. Try again later!\");\n        return;\n      }\n      const result = await response.json();\n      setResponseMessage(\"Verification sent\");\n      setVerificationSent(true);\n      setVerificationMessage(\"Verification code sent!\");\n    } catch (error) {\n      setResponseMessage(error.message);\n    }\n  }\n\n  /**********************************\n   * SUBMIT FORM\n   *********************************/\n  async function handleSubmit(e) {\n    var _dormRef$current, _semesterRef$current, _titleRef$current, _reviewRef$current;\n    e.preventDefault();\n    const dormName = (_dormRef$current = dormRef.current) === null || _dormRef$current === void 0 ? void 0 : _dormRef$current.value;\n    const semester = (_semesterRef$current = semesterRef.current) === null || _semesterRef$current === void 0 ? void 0 : _semesterRef$current.value;\n    const reviewTitle = (_titleRef$current = titleRef.current) === null || _titleRef$current === void 0 ? void 0 : _titleRef$current.value;\n    const reviewRating = value;\n    const reviewComment = (_reviewRef$current = reviewRef.current) === null || _reviewRef$current === void 0 ? void 0 : _reviewRef$current.value;\n    if (dormName === \"\" || semester === \"\") {\n      setDormErrorMessage(\"⚠️ Select a dorm and semester\");\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n      return;\n    } else {\n      setDormErrorMessage(null);\n    }\n    if (reviewTitle === \"\" || reviewComment === \"\") {\n      setReviewErrorMessage(\"⚠️ Fill in review fields\");\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n      return;\n    } else {\n      setDormErrorMessage(null);\n    }\n    const formData = {\n      dormName: dormName,\n      semester: semester,\n      reviewTitle: reviewTitle,\n      reviewRating: reviewRating,\n      reviewComment: reviewComment\n    };\n    try {\n      const response = await fetch(\"http://localhost:4000/api/upload-review\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        setResponseMessage(\"Failed to submit review due to unknown error. Please try again later!\");\n        return;\n      }\n      const result = await response.json();\n      setResponseMessage(\"Review submitted successfully!\");\n    } catch (error) {\n      setResponseMessage(error.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.form,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.formTitle,\n        children: \"Add a Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        flexItem: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Dorm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Let's gather some details about your dorm.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), dormErrorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.error,\n        children: dormErrorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: styles.reviewDorm,\n        children: \"Dorm Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select the dorm you lived in.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        ref: dormRef,\n        className: styles.reviewDormSelect,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--Select your dorm--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Manzanita Square\",\n          children: \"Manzanita Square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Mary Park Hall\",\n          children: \"Mary Park Hall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Mary Ward Hall\",\n          children: \"Mary Ward Hall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Towers At Centennial Square\",\n          children: \"Towers At Centennial Square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Towers At Junior Suites\",\n          children: \"Towers At Junior Suites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"University Park South\",\n          children: \"University Park South\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"University Park North\",\n          children: \"University Park North\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Village At Centennial Square\",\n          children: \"Village At Centennial Square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"West Grove Common\",\n          children: \"West Grove Common\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Semester\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"When did you live in this dorm?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        ref: semesterRef,\n        className: styles.semester,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--Select your semester--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Fall 2024\",\n          children: \"Fall 2024\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Summer 2024\",\n          children: \"Summer 2024\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Spring 2024\",\n          children: \"Spring 2024\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Winter 2024\",\n          children: \"Winter 2024\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Fall 2023\",\n          children: \"Fall 2023\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Summer 2023\",\n          children: \"Summer 2023\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Spring 2023\",\n          children: \"Spring 2023\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Winter 2023\",\n          children: \"Winter 2023\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Fall 2022\",\n          children: \"Fall 2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Summer 2022\",\n          children: \"Summer 2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Spring 2022\",\n          children: \"Spring 2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Winter 2022\",\n          children: \"Winter 2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Fall 2021\",\n          children: \"Fall 2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Summer 2021\",\n          children: \"Summer 2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Spring 2021\",\n          children: \"Spring 2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Winter 2021\",\n          children: \"Winter 2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        flexItem: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Describe your personal experience with this dorm.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), reviewErrorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.error,\n        children: reviewErrorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: styles.reviewTitle,\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.reviewTitleInput,\n        type: \"text\",\n        ref: titleRef,\n        placeholder: \"Give a title for your review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: styles.reviewRating,\n        children: \"Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.rating,\n        children: [/*#__PURE__*/_jsxDEV(Rating, {\n          name: \"hover-feedback\",\n          value: value,\n          precision: 0.5,\n          getLabelText: getLabelText,\n          onChange: (event, newValue) => {\n            setValue(newValue);\n          },\n          onChangeActive: (event, newHover) => {\n            setHover(newHover);\n          },\n          emptyIcon: /*#__PURE__*/_jsxDEV(StarIcon, {\n            style: {\n              opacity: 0.55\n            },\n            fontSize: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), value !== null && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            ml: 2\n          },\n          children: labels[hover !== -1 ? hover : value]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: styles.reviewComment,\n        children: \"Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: styles.reviewCommentInput,\n        placeholder: \"Write a review about your experience...\",\n        ref: reviewRef,\n        maxLength: 500\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        flexItem: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Authentification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Let's verify that you are an SFSU student. We'll send a 6-digit verification code to your SFSU email account. You may need to check your spam box!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"SFSU Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.emailBox,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.email,\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          type: \"text\",\n          placeholder: \"jdoe45\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sfsuBox,\n          children: \"@sfsu.edu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), !verificationSent && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSendVerification,\n          variant: \"contained\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), verificationSent && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.verification,\n          children: verificationMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), verificationSent && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.emailBox,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: code,\n            onChange: e => setCode(e.target.value),\n            className: styles.code,\n            type: \"text\",\n            placeholder: \"123456\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), verifiedError && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.error,\n            children: verifiedErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this), verified && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.verification,\n            children: verifiedMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 17\n          }, this), verificationSent && !verified && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: verifyCode,\n            children: \"Verify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), verified && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Divider, {\n          flexItem: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: styles.submit,\n          variant: \"contained\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(WriteReview, \"QEXtrDQNYAXZbEhtMtmkBpp5FzM=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = WriteReview;\nexport default WriteReview;\nvar _c;\n$RefreshReg$(_c, \"WriteReview\");","map":{"version":3,"names":["React","useState","Nav","Footer","useRef","styles","useLocation","useNavigate","Rating","Box","StarIcon","Button","Divider","jsxDEV","_jsxDEV","Fragment","_Fragment","labels","getLabelText","value","WriteReview","_s","setValue","hover","setHover","dormErrorMessage","setDormErrorMessage","reviewErrorMessage","setReviewErrorMessage","verified","setVerified","verifiedError","setVerifiedError","verifiedErrorMessage","setVerifiedErrorMessage","verificationSent","setVerificationSent","verificationMessage","setVerificationMessage","verifiedMessage","setVerifiedMessage","responseMessage","setResponseMessage","email","setEmail","code","setCode","titleRef","reviewRef","dormRef","semesterRef","location","navigate","verifyCode","alert","formData","response","fetch","method","headers","body","JSON","stringify","ok","error","message","handleSendVerification","result","json","handleSubmit","e","_dormRef$current","_semesterRef$current","_titleRef$current","_reviewRef$current","preventDefault","dormName","current","semester","reviewTitle","reviewRating","reviewComment","window","scrollTo","top","behavior","className","container","children","fileName","_jsxFileName","lineNumber","columnNumber","form","onSubmit","formTitle","flexItem","reviewDorm","ref","reviewDormSelect","reviewTitleInput","type","placeholder","rating","name","precision","onChange","event","newValue","onChangeActive","newHover","emptyIcon","style","opacity","fontSize","sx","ml","reviewCommentInput","maxLength","emailBox","target","sfsuBox","onClick","variant","verification","submit","_c","$RefreshReg$"],"sources":["/Users/wilson/Documents/rate-my-dorm/frontend/src/pages/WriteReview.tsx"],"sourcesContent":["import React, { useState, FC, useEffect } from \"react\";\nimport Nav from \"../components/Nav\";\nimport Banner from \"../components/Banner\";\nimport Footer from \"../components/Footer\";\nimport { useRef } from \"react\";\nimport styles from \"../styles/write-review.module.css\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nimport Rating from \"@mui/material/Rating\";\nimport Box from \"@mui/material/Box\";\nimport StarIcon from \"@mui/icons-material/Star\";\nimport Button from \"@mui/material/Button\";\nimport Divider from \"@mui/material/Divider\";\n\nconst labels: { [index: string]: string } = {\n  0.5: \"0.5\",\n  1: \"1\",\n  1.5: \"1.5\",\n  2: \"2\",\n  2.5: \"2.5\",\n  3: \"3\",\n  3.5: \"3.5\",\n  4: \"4\",\n  4.5: \"4.5\",\n  5: \"5\",\n};\n\nfunction getLabelText(value: number) {\n  return `${value} Star${value !== 1 ? \"s\" : \"\"}, ${labels[value]}`;\n}\n\nconst WriteReview: FC = () => {\n  const [value, setValue] = useState<number | null>(2);\n  const [hover, setHover] = useState(-1);\n  const [dormErrorMessage, setDormErrorMessage] = useState<string | null>(null);\n  const [reviewErrorMessage, setReviewErrorMessage] = useState<string | null>(\n    null\n  );\n  const [verified, setVerified] = useState(false);\n  const [verifiedError, setVerifiedError] = useState(false);\n  const [verifiedErrorMessage, setVerifiedErrorMessage] = useState<\n    string | null\n  >(null);\n  const [verificationSent, setVerificationSent] = useState(false);\n  const [verificationMessage, setVerificationMessage] = useState<string | null>(\n    null\n  );\n  const [verifiedMessage, setVerifiedMessage] = useState<string | null>(null);\n  const [responseMessage, setResponseMessage] = useState<string | null>(null);\n  const [email, setEmail] = useState<string>(\"\");\n  const [code, setCode] = useState<string>(\"\");\n  const titleRef = useRef<HTMLInputElement | null>(null);\n  const reviewRef = useRef<HTMLTextAreaElement | null>(null);\n  const dormRef = useRef<HTMLSelectElement | null>(null);\n  const semesterRef = useRef<HTMLSelectElement | null>(null);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  /*********************************\n   * VERIFY CODE API CALL\n   *********************************/\n  async function verifyCode() {\n    if (code === \"\") {\n      alert(\"Missing field\");\n      return;\n    }\n    const formData = {\n      email: email,\n      code: code,\n    };\n    try {\n      const response = await fetch(\"http://localhost:4000/api/verify-code\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        setVerified(false);\n        setVerifiedError(true);\n        setVerifiedErrorMessage(\"Code incorrect.\");\n        return;\n      }\n      setVerified(true);\n      setVerifiedError(false);\n      setVerifiedMessage(\"Verified!\");\n    } catch (error: any) {\n      setResponseMessage(error.message);\n    }\n  }\n\n  /*********************************\n   * SEND VERIFICATION API CALL\n   *********************************/\n  async function handleSendVerification() {\n    if (email === \"\") {\n      alert(\"Email field missing\");\n      return;\n    }\n\n    const formData = {\n      email: email,\n    };\n    try {\n      const response = await fetch(\n        \"http://localhost:4000/api/send-verification\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formData),\n        }\n      );\n\n      if (!response.ok) {\n        setResponseMessage(\"Failed to send verification. Try again later!\");\n        return;\n      }\n\n      const result = await response.json();\n      setResponseMessage(\"Verification sent\");\n      setVerificationSent(true);\n      setVerificationMessage(\"Verification code sent!\");\n    } catch (error: any) {\n      setResponseMessage(error.message);\n    }\n  }\n\n  /**********************************\n   * SUBMIT FORM\n   *********************************/\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n\n    const dormName = dormRef.current?.value;\n    const semester = semesterRef.current?.value;\n    const reviewTitle = titleRef.current?.value;\n    const reviewRating = value;\n    const reviewComment = reviewRef.current?.value;\n\n    if (dormName === \"\" || semester === \"\") {\n      setDormErrorMessage(\"⚠️ Select a dorm and semester\");\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n      return;\n    } else {\n      setDormErrorMessage(null);\n    }\n\n    if (reviewTitle === \"\" || reviewComment === \"\") {\n      setReviewErrorMessage(\"⚠️ Fill in review fields\");\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n      return;\n    } else {\n      setDormErrorMessage(null);\n    }\n\n    const formData = {\n      dormName: dormName,\n      semester: semester,\n      reviewTitle: reviewTitle,\n      reviewRating: reviewRating,\n      reviewComment: reviewComment,\n    };\n\n    try {\n      const response = await fetch(\"http://localhost:4000/api/upload-review\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        setResponseMessage(\n          \"Failed to submit review due to unknown error. Please try again later!\"\n        );\n        return;\n      }\n\n      const result = await response.json();\n      setResponseMessage(\"Review submitted successfully!\");\n    } catch (error: any) {\n      setResponseMessage(error.message);\n    }\n  }\n\n  return (\n    <div className={styles.container}>\n      <Nav />\n      <form className={styles.form} onSubmit={handleSubmit}>\n        <h1 className={styles.formTitle}>Add a Review</h1>\n        <Divider flexItem></Divider>\n        <h2>Dorm</h2>\n        <p>Let's gather some details about your dorm.</p>\n        {dormErrorMessage && <p className={styles.error}>{dormErrorMessage}</p>}\n        <h3 className={styles.reviewDorm}>Dorm Name</h3>\n        <p>Select the dorm you lived in.</p>\n        <select ref={dormRef} className={styles.reviewDormSelect}>\n          <option value=\"\">--Select your dorm--</option>\n          <option value=\"Manzanita Square\">Manzanita Square</option>\n          <option value=\"Mary Park Hall\">Mary Park Hall</option>\n          <option value=\"Mary Ward Hall\">Mary Ward Hall</option>\n          <option value=\"Towers At Centennial Square\">\n            Towers At Centennial Square\n          </option>\n          <option value=\"Towers At Junior Suites\">\n            Towers At Junior Suites\n          </option>\n          <option value=\"University Park South\">University Park South</option>\n          <option value=\"University Park North\">University Park North</option>\n          <option value=\"Village At Centennial Square\">\n            Village At Centennial Square\n          </option>\n          <option value=\"West Grove Common\">West Grove Common</option>\n        </select>\n\n        <h3>Semester</h3>\n        <p>When did you live in this dorm?</p>\n        <select ref={semesterRef} className={styles.semester}>\n          <option value=\"\">--Select your semester--</option>\n          <option value=\"Fall 2024\">Fall 2024</option>\n          <option value=\"Summer 2024\">Summer 2024</option>\n          <option value=\"Spring 2024\">Spring 2024</option>\n          <option value=\"Winter 2024\">Winter 2024</option>\n\n          <option value=\"Fall 2023\">Fall 2023</option>\n          <option value=\"Summer 2023\">Summer 2023</option>\n          <option value=\"Spring 2023\">Spring 2023</option>\n          <option value=\"Winter 2023\">Winter 2023</option>\n\n          <option value=\"Fall 2022\">Fall 2022</option>\n          <option value=\"Summer 2022\">Summer 2022</option>\n          <option value=\"Spring 2022\">Spring 2022</option>\n          <option value=\"Winter 2022\">Winter 2022</option>\n\n          <option value=\"Fall 2021\">Fall 2021</option>\n          <option value=\"Summer 2021\">Summer 2021</option>\n          <option value=\"Spring 2021\">Spring 2021</option>\n          <option value=\"Winter 2021\">Winter 2021</option>\n        </select>\n\n        <Divider flexItem></Divider>\n        <h2>Review</h2>\n        <p>Describe your personal experience with this dorm.</p>\n        {reviewErrorMessage && (\n          <p className={styles.error}>{reviewErrorMessage}</p>\n        )}\n        <h3 className={styles.reviewTitle}>Title</h3>\n        <input\n          className={styles.reviewTitleInput}\n          type=\"text\"\n          ref={titleRef}\n          placeholder=\"Give a title for your review\"\n        />\n        <h3 className={styles.reviewRating}>Rating</h3>\n        <div className={styles.rating}>\n          <Rating\n            name=\"hover-feedback\"\n            value={value}\n            precision={0.5}\n            getLabelText={getLabelText}\n            onChange={(event, newValue) => {\n              setValue(newValue);\n            }}\n            onChangeActive={(event, newHover) => {\n              setHover(newHover);\n            }}\n            emptyIcon={\n              <StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />\n            }\n          />\n          {value !== null && (\n            <Box sx={{ ml: 2 }}>{labels[hover !== -1 ? hover : value]}</Box>\n          )}\n        </div>\n        <h3 className={styles.reviewComment}>Comment</h3>\n        <textarea\n          className={styles.reviewCommentInput}\n          placeholder=\"Write a review about your experience...\"\n          ref={reviewRef}\n          maxLength={500}\n        />\n\n        <Divider flexItem></Divider>\n        <h2>Authentification</h2>\n        <p>\n          Let's verify that you are an SFSU student. We'll send a 6-digit\n          verification code to your SFSU email account. You may need to check\n          your spam box!\n        </p>\n        <h3>SFSU Account</h3>\n        <div className={styles.emailBox}>\n          <input\n            className={styles.email}\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            type=\"text\"\n            placeholder=\"jdoe45\"\n          />\n          <div className={styles.sfsuBox}>@sfsu.edu</div>\n          {!verificationSent && (\n            <Button onClick={handleSendVerification} variant=\"contained\">\n              Send\n            </Button>\n          )}\n          {verificationSent && (\n            <p className={styles.verification}>{verificationMessage}</p>\n          )}\n        </div>\n        {verificationSent && (\n          <>\n            {\" \"}\n            <h3>Code</h3>\n            <div className={styles.emailBox}>\n              <input\n                value={code}\n                onChange={(e) => setCode(e.target.value)}\n                className={styles.code}\n                type=\"text\"\n                placeholder=\"123456\"\n              />\n              {verifiedError && (\n                <p className={styles.error}>{verifiedErrorMessage}</p>\n              )}\n              {verified && (\n                <p className={styles.verification}>{verifiedMessage}</p>\n              )}\n              {verificationSent && !verified && (\n                <Button variant=\"contained\" onClick={verifyCode}>\n                  Verify\n                </Button>\n              )}\n            </div>\n          </>\n        )}\n\n        {verified && (\n          <>\n            <Divider flexItem></Divider>\n            <Button className={styles.submit} variant=\"contained\" type=\"submit\">\n              Submit\n            </Button>\n          </>\n        )}\n      </form>\n      <Footer />\n    </div>\n  );\n};\n\nexport default WriteReview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}